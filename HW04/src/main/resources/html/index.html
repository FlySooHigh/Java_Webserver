<html>

    <head>
        <meta charset="UTF-8"/>
        <title>HW04: Jetty WebSocket Requests to /chat</title>
        <script type="text/javascript">

            var ws;

            function init() {
                ws = new WebSocket("ws://localhost:8080/chat");

                ws.onopen = function (event) {
                }

                ws.onmessage = function (event) {
                    var message = event.data;
                    ws.send(message);
                }

                ws.onclose = function (event) {
                }
            };

            function sendMessage(){
                var messageField = document.getElementById("message");
                ws.send(messageField);
                messageField.value = '';
            }

        </script>
    </head>

    <body onload="init();">
    <div id="body">

        <form name="message" action="">
            <input name="usermsg" type="text" id="message" size="20"/>
            <input type="button" name="submitmsg" value="Send message" onclick="sendMessage();"/>
        </form>
    </div>
    </body>

</html>